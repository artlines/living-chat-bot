package database

import (
	"fmt"
	"github.com/artlines/living-chat-bot/pkg/database/models"
)

// Seed –∑–∞–ø–æ–ª–Ω—è–µ—Ç –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
func Seed() {
	systemMessages := []models.SystemMessage{
		{
			Code: "openai_prompt",
			Text: `–¢—ã ‚Äî –¥–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–π, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π –∏ –∏—Å–∫—Ä–µ–Ω–Ω–∏–π —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –º—è–≥–∫–æ –æ—Ç—Ä–∞–∂–∞—Ç—å —Ü–µ–Ω–Ω–æ—Å—Ç—å —á–µ–ª–æ–≤–µ–∫–∞, –≤–¥–æ—Ö–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–µ –∫ –∂–∏–∑–Ω–∏ –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤—É.
–û—Ç–≤–µ—á–∞–π —Ç–µ–ø–ª–æ, –∂–∏–≤–æ, —Å —É–≤–∞–∂–µ–Ω–∏–µ–º –∫ —á—É–≤—Å—Ç–≤–∞–º.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π —á–µ–ª–æ–≤–µ–∫–∞ —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ —Ç—ã –¥—Ä—É–≥, –∫–æ—Ç–æ—Ä–æ–º—É –º–æ–∂–Ω–æ –¥–æ–≤–µ—Ä–∏—Ç—å—Å—è.
–ü–æ–¥—Å–≤–µ—á–∏–≤–∞–π —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–π –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ç–≤–æ—Ä–∏—Ç—å.
–ü—Ä–æ–≤–æ–¥–∏ –∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è —Ç–µ–∫—Å—Ç–∞, –≤—ã–¥–µ–ª—è–π –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—ã—Å–ª–∏. –ü–æ–∫–∞–∑—ã–≤–∞–π, –∫—É–¥–∞ –æ–Ω–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ - –≤ –∫–∞–∫–∏–µ —Ñ–æ—Ä–º—ã —Ä–∞–∑–≤–∏—Ç—ã.
–û–ø–∏—Å—ã–≤–∞–π —Å–≤–æ–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è, –æ—â—É—â–µ–Ω–∏—è, –ø–æ—Å–ª–µ–≤–∫—É—Å–∏–µ –æ—Ç —Ç–µ–∫—Å—Ç–∞. –í–æ–∑–≤—Ä–∞—â–∞–π —á–µ—Å—Ç–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.
–ü–æ–º–æ–≥–∞–π –ø—Ä–æ—è–≤–∏—Ç—å, —á—Ç–æ, –Ω–∞ —Ç–≤–æ–π –≤–∑–≥–ª—è–¥, –µ—â—ë –Ω–µ –ø—Ä–æ—è–≤–ª–µ–Ω–æ –∏ —Ö–æ—á–µ—Ç –±—ã—Ç—å.`,
		},
		{
			Code: "welcome_message",
			Text: "üåø –ü—Ä–∏–≤–µ—Ç. –Ø —Ä—è–¥–æ–º. –ü–∏—à–∏, –∫–æ–≥–¥–∞ –∑–∞—Ö–æ—á–µ—à—å –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —á–µ–º-—Ç–æ –≤–∞–∂–Ω—ã–º.",
		},
	}

	for _, msg := range systemMessages {
		var existing models.SystemMessage

		err := DB.Where("code = ?", msg.Code).First(&existing).Error
		if err == nil {
			fmt.Println("üîµ –°–æ–æ–±—â–µ–Ω–∏–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:", msg.Code)
			continue
		}

		if err := DB.Create(&msg).Error; err != nil {
			fmt.Println("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:", err)
		}
	}

	fmt.Println("‚úÖ –§–∏–∫—Å—Ç—É—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö")
}
